{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/lib/supabase-logger.ts"],"sourcesContent":["type LogLevel = 'info' | 'warn' | 'error' | 'debug'\r\n\r\ninterface SupabaseLogEntry {\r\n  timestamp: string\r\n  level: LogLevel\r\n  operation: string\r\n  table?: string\r\n  userId?: string\r\n  duration?: number\r\n  details?: any\r\n  error?: any\r\n}\r\n\r\nclass SupabaseLogger {\r\n  private logs: SupabaseLogEntry[] = []\r\n  private maxLogs = 100 // Keep only last 100 logs\r\n\r\n  private formatTimestamp(): string {\r\n    return new Date().toISOString()\r\n  }\r\n\r\n  private addLog(entry: SupabaseLogEntry) {\r\n    this.logs.push(entry)\r\n    \r\n    // Keep only the most recent logs\r\n    if (this.logs.length > this.maxLogs) {\r\n      this.logs = this.logs.slice(-this.maxLogs)\r\n    }\r\n\r\n    // Console output with appropriate styling\r\n    const emoji = {\r\n      info: 'ℹ️',\r\n      warn: '⚠️',\r\n      error: '❌',\r\n      debug: '🔍'\r\n    }\r\n\r\n    const prefix = `${emoji[entry.level]} [SUPABASE ${entry.level.toUpperCase()}]`\r\n    const message = `${prefix} ${entry.operation}`\r\n    \r\n    switch (entry.level) {\r\n      case 'error':\r\n        console.error(message, entry.details || entry.error)\r\n        break\r\n      case 'warn':\r\n        console.warn(message, entry.details)\r\n        break\r\n      case 'debug':\r\n        console.debug(message, entry.details)\r\n        break\r\n      default:\r\n        console.log(message, entry.details)\r\n    }\r\n  }\r\n\r\n  // Log successful database operations\r\n  logOperation(operation: string, table: string, details?: any, duration?: number) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'info',\r\n      operation: `${operation} on ${table}`,\r\n      table,\r\n      duration,\r\n      details\r\n    })\r\n  }\r\n\r\n  // Log authentication events\r\n  logAuth(event: string, userId?: string, details?: any) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'info',\r\n      operation: `Auth: ${event}`,\r\n      userId,\r\n      details\r\n    })\r\n  }\r\n\r\n  // Log errors with context\r\n  logError(operation: string, error: any, context?: any) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'error',\r\n      operation: `Error: ${operation}`,\r\n      error,\r\n      details: context\r\n    })\r\n  }\r\n\r\n  // Log warnings\r\n  logWarning(operation: string, message: string, details?: any) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'warn',\r\n      operation,\r\n      details: { message, ...details }\r\n    })\r\n  }\r\n\r\n  // Log debug information (only in development)\r\n  logDebug(operation: string, details?: any) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      this.addLog({\r\n        timestamp: this.formatTimestamp(),\r\n        level: 'debug',\r\n        operation,\r\n        details\r\n      })\r\n    }\r\n  }\r\n\r\n  // Log connection events\r\n  logConnection(status: 'connecting' | 'connected' | 'disconnected' | 'failed', details?: any) {\r\n    const level: LogLevel = status === 'failed' ? 'error' : status === 'disconnected' ? 'warn' : 'info'\r\n    \r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level,\r\n      operation: `Connection ${status}`,\r\n      details\r\n    })\r\n  }\r\n\r\n  // Get recent logs\r\n  getRecentLogs(count: number = 10): SupabaseLogEntry[] {\r\n    return this.logs.slice(-count)\r\n  }\r\n\r\n  // Get logs by level\r\n  getLogsByLevel(level: LogLevel): SupabaseLogEntry[] {\r\n    return this.logs.filter(log => log.level === level)\r\n  }\r\n\r\n  // Clear logs\r\n  clearLogs() {\r\n    this.logs = []\r\n    console.log('🧹 Supabase logs cleared')\r\n  }\r\n\r\n  // Export logs for debugging\r\n  exportLogs(): string {\r\n    return JSON.stringify(this.logs, null, 2)\r\n  }\r\n\r\n  // Performance monitoring\r\n  startTimer(operation: string): () => void {\r\n    const startTime = performance.now()\r\n    \r\n    return () => {\r\n      const duration = performance.now() - startTime\r\n      this.logDebug(`Performance: ${operation}`, { duration: `${duration.toFixed(2)}ms` })\r\n      return duration\r\n    }\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nexport const supabaseLogger = new SupabaseLogger()\r\n\r\n// Convenience functions\r\nexport const logSupabaseOperation = (operation: string, table: string, details?: any, duration?: number) => {\r\n  supabaseLogger.logOperation(operation, table, details, duration)\r\n}\r\n\r\nexport const logSupabaseAuth = (event: string, userId?: string, details?: any) => {\r\n  supabaseLogger.logAuth(event, userId, details)\r\n}\r\n\r\nexport const logSupabaseError = (operation: string, error: any, context?: any) => {\r\n  supabaseLogger.logError(operation, error, context)\r\n}\r\n\r\nexport const logSupabaseWarning = (operation: string, message: string, details?: any) => {\r\n  supabaseLogger.logWarning(operation, message, details)\r\n}\r\n\r\nexport const logSupabaseDebug = (operation: string, details?: any) => {\r\n  supabaseLogger.logDebug(operation, details)\r\n}\r\n\r\nexport const logSupabaseConnection = (status: 'connecting' | 'connected' | 'disconnected' | 'failed', details?: any) => {\r\n  supabaseLogger.logConnection(status, details)\r\n}\r\n\r\n// Hook for React components to access logs\r\nexport const useSupabaseLogs = () => {\r\n  return {\r\n    getRecentLogs: (count?: number) => supabaseLogger.getRecentLogs(count),\r\n    getLogsByLevel: (level: LogLevel) => supabaseLogger.getLogsByLevel(level),\r\n    clearLogs: () => supabaseLogger.clearLogs(),\r\n    exportLogs: () => supabaseLogger.exportLogs()\r\n  }\r\n}\r\n\r\nexport default supabaseLogger\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/lib/supabase.ts"],"sourcesContent":["import { createClient, SupabaseClient } from '@supabase/supabase-js'\r\nimport { logSupabaseConnection, logSupabaseError, logSupabaseDebug } from './supabase-logger'\r\nimport type { Database } from '@/types/database'\r\n\r\n// Environment variables\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\n// Validate environment variables\r\nif (!supabaseUrl) {\r\n  const errorMsg = 'Missing NEXT_PUBLIC_SUPABASE_URL'\r\n  logSupabaseError('initialization', new Error(errorMsg))\r\n  throw new Error(errorMsg)\r\n}\r\n\r\nif (!supabaseAnonKey) {\r\n  const errorMsg = 'Missing NEXT_PUBLIC_SUPABASE_ANON_KEY'\r\n  logSupabaseError('initialization', new Error(errorMsg))\r\n  throw new Error(errorMsg)\r\n}\r\n\r\n// Log connection attempt\r\nlogSupabaseConnection('connecting', {\r\n  url: supabaseUrl,\r\n  keyPreview: supabaseAnonKey.substring(0, 20) + '...'\r\n})\r\n\r\n// Create Supabase client\r\nexport const supabase: SupabaseClient<Database> = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: true\r\n  },\r\n  db: {\r\n    schema: 'public'\r\n  },\r\n  global: {\r\n    headers: {\r\n      'X-Client-Info': 'Nirvana-Municipal-Platform'\r\n    }\r\n  }\r\n})\r\n\r\n// Connection validation function\r\nexport const validateSupabaseConnection = async (): Promise<boolean> => {\r\n  try {\r\n    logSupabaseDebug('Starting connection validation')\r\n    \r\n    // Test the connection by making a simple query\r\n    const { data, error } = await supabase\r\n      .from('_health_check')\r\n      .select('*')\r\n      .limit(1)\r\n\r\n    if (error) {\r\n      // If health check table doesn't exist, try a different approach\r\n      if (error.code === 'PGRST116' || error.message.includes('does not exist')) {\r\n        logSupabaseDebug('Health check table not found, testing with auth instead')\r\n        \r\n        // Test with auth session\r\n        const { data: session, error: authError } = await supabase.auth.getSession()\r\n        \r\n        if (authError) {\r\n          logSupabaseError('auth_connection_test', authError)\r\n          return false\r\n        }\r\n        \r\n        logSupabaseConnection('connected', {\r\n          method: 'auth_test',\r\n          hasActiveSession: !!session.session\r\n        })\r\n        return true\r\n      } else {\r\n        logSupabaseError('health_check', error)\r\n        return false\r\n      }\r\n    }\r\n\r\n    logSupabaseConnection('connected', {\r\n      method: 'health_check',\r\n      responseData: data\r\n    })\r\n    return true\r\n\r\n  } catch (error) {\r\n    logSupabaseError('connection_validation', error)\r\n    return false\r\n  }\r\n}\r\n\r\n// Auto-validate connection on import (only in development)\r\nif (process.env.NODE_ENV === 'development') {\r\n  validateSupabaseConnection().then((isValid) => {\r\n    if (isValid) {\r\n      logSupabaseConnection('connected', { autoValidation: true })\r\n    } else {\r\n      logSupabaseConnection('failed', { autoValidation: true })\r\n    }\r\n  })\r\n}\r\n\r\n// Export types for TypeScript\r\nexport type { SupabaseClient } from '@supabase/supabase-js'\r\nexport type { Database } from '@/types/database'\r\n\r\n// Helper function to log database operations (deprecated - use logger directly)\r\nexport const logDatabaseOperation = (operation: string, table: string, details?: any) => {\r\n  logSupabaseDebug(`Database Operation: ${operation.toUpperCase()} on ${table}`, details)\r\n}\r\n\r\n// Helper function to handle Supabase errors with logging\r\nexport const handleSupabaseError = (error: any, context: string) => {\r\n  logSupabaseError(context, error)\r\n  \r\n  // Return user-friendly error message\r\n  return {\r\n    error: true,\r\n    message: error.message || 'An unexpected error occurred',\r\n    code: error.code\r\n  }\r\n}\r\n\r\nexport default supabase\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;AAGA,wBAAwB;AACxB,MAAM;AACN,MAAM;AAEN,iCAAiC;AACjC,uCAAkB;;AAIlB;AAEA,uCAAsB;;AAItB;AAEA,yBAAyB;AACzB,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,cAAc;IAClC,KAAK;IACL,YAAY,gBAAgB,SAAS,CAAC,GAAG,MAAM;AACjD;AAGO,MAAM,WAAqC,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IAC3F,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;IACA,IAAI;QACF,QAAQ;IACV;IACA,QAAQ;QACN,SAAS;YACP,iBAAiB;QACnB;IACF;AACF;AAGO,MAAM,6BAA6B;IACxC,IAAI;QACF,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE;QAEjB,+CAA+C;QAC/C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,OAAO;YACT,gEAAgE;YAChE,IAAI,MAAM,IAAI,KAAK,cAAc,MAAM,OAAO,CAAC,QAAQ,CAAC,mBAAmB;gBACzE,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE;gBAEjB,yBAAyB;gBACzB,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;gBAE1E,IAAI,WAAW;oBACb,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,wBAAwB;oBACzC,OAAO;gBACT;gBAEA,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,aAAa;oBACjC,QAAQ;oBACR,kBAAkB,CAAC,CAAC,QAAQ,OAAO;gBACrC;gBACA,OAAO;YACT,OAAO;gBACL,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,gBAAgB;gBACjC,OAAO;YACT;QACF;QAEA,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,aAAa;YACjC,QAAQ;YACR,cAAc;QAChB;QACA,OAAO;IAET,EAAE,OAAO,OAAO;QACd,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,yBAAyB;QAC1C,OAAO;IACT;AACF;AAEA,2DAA2D;AAC3D,wCAA4C;IAC1C,6BAA6B,IAAI,CAAC,CAAC;QACjC,IAAI,SAAS;YACX,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,aAAa;gBAAE,gBAAgB;YAAK;QAC5D,OAAO;YACL,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,UAAU;gBAAE,gBAAgB;YAAK;QACzD;IACF;AACF;AAOO,MAAM,uBAAuB,CAAC,WAAmB,OAAe;IACrE,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,CAAC,oBAAoB,EAAE,UAAU,WAAW,GAAG,IAAI,EAAE,OAAO,EAAE;AACjF;AAGO,MAAM,sBAAsB,CAAC,OAAY;IAC9C,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,SAAS;IAE1B,qCAAqC;IACrC,OAAO;QACL,OAAO;QACP,SAAS,MAAM,OAAO,IAAI;QAC1B,MAAM,MAAM,IAAI;IAClB;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/lib/complaints.ts"],"sourcesContent":["import { supabase } from './supabase';\r\nimport type { Complaint, User } from '@/types/database';\r\n\r\nexport interface ComplaintWithDetails extends Complaint {\r\n  assignedUser?: User;\r\n  categoryName?: string;\r\n  createdAt: string; // Add this field for dashboard compatibility\r\n}\r\n\r\nexport const complaintService = {\r\n  // Get complaints for a specific user\r\n  async getUserComplaints(userId: string): Promise<{ data: ComplaintWithDetails[] | null; error: string | null }> {\r\n    try {\r\n      const { data: complaints, error } = await supabase\r\n        .from('complaints')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (error) {\r\n        console.error('Error fetching complaints:', error);\r\n        return { data: null, error: 'Failed to fetch complaints' };\r\n      }\r\n\r\n      // Map created_at to createdAt for consistency with frontend expectations\r\n      const complaintsWithFormattedDate = complaints?.map(complaint => ({\r\n        ...complaint,\r\n        createdAt: complaint.created_at\r\n      })) || [];\r\n\r\n      return { data: complaintsWithFormattedDate as ComplaintWithDetails[], error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get all complaints (for public dashboard)\r\n  async getAllComplaints(limit: number = 50): Promise<{ data: ComplaintWithDetails[] | null; error: string | null }> {\r\n    try {\r\n      const { data: complaints, error } = await supabase\r\n        .from('complaints')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n        .limit(limit);\r\n\r\n      if (error) {\r\n        console.error('Error fetching all complaints:', error);\r\n        return { data: null, error: 'Failed to fetch complaints' };\r\n      }\r\n\r\n      // Map created_at to createdAt for consistency with frontend expectations\r\n      const complaintsWithFormattedDate = complaints?.map(complaint => ({\r\n        ...complaint,\r\n        createdAt: complaint.created_at\r\n      })) || [];\r\n\r\n      return { data: complaintsWithFormattedDate as ComplaintWithDetails[], error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get a single complaint by ID\r\n  async getComplaintById(complaintId: string): Promise<{ data: ComplaintWithDetails | null; error: string | null }> {\r\n    try {\r\n      const { data: complaint, error } = await supabase\r\n        .from('complaints')\r\n        .select('*')\r\n        .eq('id', complaintId)\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error fetching complaint:', error);\r\n        return { data: null, error: 'Failed to fetch complaint' };\r\n      }\r\n\r\n      // Map created_at to createdAt for consistency with frontend expectations\r\n      const complaintWithFormattedDate = {\r\n        ...complaint,\r\n        createdAt: complaint.created_at\r\n      };\r\n\r\n      return { data: complaintWithFormattedDate as ComplaintWithDetails, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get complaint statistics for a user\r\n  async getUserStats(userId: string): Promise<{ \r\n    total: number; \r\n    pending: number; \r\n    resolved: number; \r\n    avgResolutionTime: string;\r\n    error: string | null;\r\n  }> {\r\n    try {\r\n      const { data: complaints, error } = await supabase\r\n        .from('complaints')\r\n        .select('status')\r\n        .eq('user_id', userId);\r\n\r\n      if (error) {\r\n        console.error('Error fetching stats:', error);\r\n        return { total: 0, pending: 0, resolved: 0, avgResolutionTime: 'N/A', error: 'Failed to fetch statistics' };\r\n      }\r\n\r\n      const total = complaints.length;\r\n      const pending = complaints.filter(c => c.status === 'pending' || c.status === 'in_progress').length;\r\n      const resolved = complaints.filter(c => c.status === 'resolved').length;\r\n\r\n      // Since there's no timestamp data in the schema, we'll show N/A for resolution time\r\n      const avgResolutionTime = 'N/A';\r\n\r\n      return { total, pending, resolved, avgResolutionTime, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { total: 0, pending: 0, resolved: 0, avgResolutionTime: 'N/A', error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get categories\r\n  async getCategories(): Promise<{ data: any[] | null; error: string | null }> {\r\n    try {\r\n      const { data: categories, error } = await supabase\r\n        .from('categories')\r\n        .select('*')\r\n        .order('name');\r\n\r\n      if (error) {\r\n        console.error('Error fetching categories:', error);\r\n        return { data: null, error: 'Failed to fetch categories' };\r\n      }\r\n\r\n      return { data: categories, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Create a new complaint\r\n  async createComplaint(complaintData: {\r\n    title: string;\r\n    description: string;\r\n    category: string;\r\n    location: string;\r\n    priority?: string;\r\n    location_lat?: number;\r\n    location_lng?: number;\r\n    image_url?: string;\r\n  }, userId: string): Promise<{ data: Complaint | null; error: string | null }> {\r\n    try {\r\n      const { data: complaint, error } = await supabase\r\n        .from('complaints')\r\n        .insert({\r\n          title: complaintData.title,\r\n          description: complaintData.description,\r\n          category: complaintData.category,\r\n          location: complaintData.location,\r\n          user_id: userId,\r\n          status: 'pending',\r\n          priority: complaintData.priority || 'medium',\r\n          location_lat: complaintData.location_lat,\r\n          location_lng: complaintData.location_lng,\r\n          image_url: complaintData.image_url,\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error creating complaint:', error);\r\n        return { data: null, error: 'Failed to create complaint' };\r\n      }\r\n\r\n      return { data: complaint, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  }\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/app/citizen/complaints/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  ArrowLeft,\r\n  MapPin,\r\n  Calendar,\r\n  User,\r\n  Tag,\r\n  AlertCircle,\r\n  MessageSquare,\r\n  Upload,\r\n  Star,\r\n  Send,\r\n  CheckCircle,\r\n  Clock,\r\n  Eye,\r\n  Download\r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { complaintService, ComplaintWithDetails } from '@/lib/complaints';\r\n\r\ninterface TimelineEvent {\r\n  id: string;\r\n  type: 'status_change' | 'comment' | 'assignment' | 'document';\r\n  title: string;\r\n  description: string;\r\n  timestamp: string;\r\n  user: string;\r\n  userRole: 'citizen' | 'official' | 'system';\r\n}\r\n\r\nconst mockTimeline: TimelineEvent[] = [\r\n  {\r\n    id: '1',\r\n    type: 'status_change',\r\n    title: 'Complaint Submitted',\r\n    description: 'Your complaint has been successfully submitted and is awaiting review.',\r\n    timestamp: '2025-01-15T10:30:00Z',\r\n    user: 'System',\r\n    userRole: 'system'\r\n  },\r\n  {\r\n    id: '2',\r\n    type: 'assignment',\r\n    title: 'Complaint Assigned',\r\n    description: 'Complaint assigned to BBMP Ward Officer - Rajesh Kumar',\r\n    timestamp: '2025-01-15T14:20:00Z',\r\n    user: 'System',\r\n    userRole: 'system'\r\n  },\r\n  {\r\n    id: '3',\r\n    type: 'status_change',\r\n    title: 'Investigation Started',\r\n    description: 'Field inspection team has been dispatched to assess the issue.',\r\n    timestamp: '2025-01-16T09:15:00Z',\r\n    user: 'Rajesh Kumar',\r\n    userRole: 'official'\r\n  },\r\n  {\r\n    id: '4',\r\n    type: 'comment',\r\n    title: 'Official Update',\r\n    description: 'Site inspection completed. Issue confirmed - electrical fault in the streetlight connection. Work order has been raised with the electrical maintenance team. Expected resolution within 2-3 working days.',\r\n    timestamp: '2025-01-17T11:45:00Z',\r\n    user: 'Rajesh Kumar',\r\n    userRole: 'official'\r\n  }\r\n];\r\n\r\nexport default function ComplaintDetailsPage({ params }: { params: { id: string } }) {\r\n  // If params is a Promise in the future, we'll need to use React.use(params)\r\n  // For now, we can safely access params.id directly\r\n  const id = params.id;\r\n  \r\n  const [complaint, setComplaint] = useState<ComplaintWithDetails | null>(null);\r\n  const [timeline] = useState<TimelineEvent[]>(mockTimeline);\r\n  const [newComment, setNewComment] = useState('');\r\n  const [newImages, setNewImages] = useState<File[]>([]);\r\n  const [showFeedback, setShowFeedback] = useState(false);\r\n  const [rating, setRating] = useState(0);\r\n  const [feedbackComment, setFeedbackComment] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchComplaint = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const { data, error } = await complaintService.getComplaintById(id);\r\n        \r\n        if (error) {\r\n          setError(error);\r\n          return;\r\n        }\r\n        \r\n        setComplaint(data);\r\n      } catch (err) {\r\n        setError('Failed to load complaint details');\r\n        console.error('Error fetching complaint:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchComplaint();\r\n  }, [id]);\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'submitted': return 'text-amber-300 bg-amber-500/20';\r\n      case 'in-progress': return 'text-blue-300 bg-blue-500/20';\r\n      case 'resolved': return 'text-emerald-300 bg-emerald-500/20';\r\n      case 'rejected': return 'text-red-300 bg-red-500/20';\r\n      default: return 'text-purple-300 bg-purple-500/20';\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'critical': return 'text-red-400';\r\n      case 'high': return 'text-orange-400';\r\n      case 'medium': return 'text-yellow-400';\r\n      case 'low': return 'text-green-400';\r\n      default: return 'text-purple-400';\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || []);\r\n    setNewImages([...newImages, ...files]);\r\n  };\r\n\r\n  const submitComment = () => {\r\n    if (!newComment.trim() && newImages.length === 0) return;\r\n    \r\n    // Mock comment submission\r\n    console.log('Submitting comment:', { comment: newComment, images: newImages });\r\n    setNewComment('');\r\n    setNewImages([]);\r\n  };\r\n\r\n  const submitFeedback = () => {\r\n    if (rating === 0) return;\r\n    \r\n    // Mock feedback submission\r\n    console.log('Submitting feedback:', { rating, comment: feedbackComment });\r\n    setShowFeedback(false);\r\n    setRating(0);\r\n    setFeedbackComment('');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-[#0a0613] via-[#150d27] to-[#0a0613] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 mx-auto mb-4 border-4 border-purple-500 rounded-full border-t-transparent animate-spin\"></div>\r\n          <p className=\"text-purple-300\">Loading complaint details...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !complaint) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-[#0a0613] via-[#150d27] to-[#0a0613] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertCircle className=\"w-16 h-16 mx-auto mb-4 text-red-400\" />\r\n          <h2 className=\"mb-2 text-xl text-white\">Failed to Load Complaint</h2>\r\n          <p className=\"mb-4 text-purple-300\">{error || 'Complaint not found'}</p>\r\n          <Link href=\"/citizen/dashboard\" className=\"px-4 py-2 text-white bg-purple-600 rounded-lg hover:bg-purple-700\">\r\n            Back to Dashboard\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-[#0a0613] via-[#150d27] to-[#0a0613]\">\r\n      {/* Navigation */}\r\n      <nav className=\"sticky top-0 z-10 p-4 border-b bg-purple-500/5 backdrop-blur-sm border-purple-500/20\">\r\n        <div className=\"flex items-center justify-between max-w-6xl mx-auto\">\r\n          <Link href=\"/citizen/dashboard\" className=\"flex items-center space-x-2 text-purple-400 transition-colors hover:text-purple-300\">\r\n            <ArrowLeft className=\"w-4 h-4\" />\r\n            <span>Back to Dashboard</span>\r\n          </Link>\r\n          <h1 className=\"font-serif text-xl text-white\">Complaint Details</h1>\r\n          <div className=\"w-32\" />\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"max-w-6xl p-6 mx-auto\">\r\n        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n          {/* Main Content */}\r\n          <div className=\"space-y-6 lg:col-span-2\">\r\n            {/* Complaint Header */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n            >\r\n              <div className=\"flex flex-col gap-4 mb-6 sm:flex-row sm:items-start sm:justify-between\">\r\n                <div className=\"flex-1\">\r\n                  <h1 className=\"mb-2 font-serif text-2xl text-white\">\r\n                    {complaint.title}\r\n                  </h1>\r\n                  <p className=\"mb-4 text-purple-300/70\">\r\n                    Complaint ID: {complaint.id}\r\n                  </p>\r\n                  <div className=\"flex flex-wrap items-center gap-4 text-sm\">\r\n                    <span className={`px-3 py-1 rounded-full  ${getStatusColor(complaint.status)}`}>\r\n                      {complaint.status.replace('-', ' ').toUpperCase()}\r\n                    </span>\r\n                    <span className={` ${getPriorityColor(complaint.priority)}`}>\r\n                      {complaint.priority.toUpperCase()} PRIORITY\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 mb-6 sm:grid-cols-2\">\r\n                <div className=\"flex items-center space-x-2 text-purple-300/70\">\r\n                  <Calendar className=\"w-4 h-4\" />\r\n                  <span>Submitted: {new Date(complaint.createdAt).toLocaleDateString('en-IN')}</span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2 text-purple-300/70\">\r\n                  <Tag className=\"w-4 h-4\" />\r\n                  <span>Category: {complaint.category}</span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2 text-purple-300/70\">\r\n                  <MapPin className=\"w-4 h-4\" />\r\n                  <span>Location: {complaint.location_lat}, {complaint.location_lng}</span>\r\n                </div>\r\n                {complaint.assigned_to && (\r\n                  <div className=\"flex items-center space-x-2 text-purple-300/70\">\r\n                    <User className=\"w-4 h-4\" />\r\n                    <span>Assigned to: {complaint.assigned_to}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"pt-4 border-t border-purple-500/20\">\r\n                <h3 className=\"mb-2 text-white\">Description</h3>\r\n                <p className=\"text-purple-300/70\">{complaint.description}</p>\r\n              </div>\r\n\r\n              {/* Images */}\r\n              {complaint.image_url && (\r\n                <div className=\"mt-6\">\r\n                  <h3 className=\"mb-3 text-white\">Attached Image</h3>\r\n                  <div className=\"relative group\">\r\n                    <img\r\n                      src={complaint.image_url}\r\n                      alt=\"Evidence\"\r\n                      className=\"object-cover w-full h-64 max-w-md rounded-lg\"\r\n                      onError={(e) => {\r\n                        e.currentTarget.src = '/no-image.png';\r\n                      }}\r\n                    />\r\n                    <div className=\"absolute inset-0 flex items-center justify-center transition-opacity rounded-lg opacity-0 bg-black/50 group-hover:opacity-100\">\r\n                      <Eye className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n\r\n            {/* Timeline */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.1 }}\r\n              className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n            >\r\n              <h2 className=\"mb-6 font-serif text-xl text-white\">Progress Timeline</h2>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {timeline.map((event, index) => (\r\n                  <motion.div\r\n                    key={event.id}\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    transition={{ delay: index * 0.1 }}\r\n                    className=\"flex space-x-4\"\r\n                  >\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                        event.type === 'status_change' ? 'bg-purple-600' :\r\n                        event.type === 'assignment' ? 'bg-blue-600' :\r\n                        event.type === 'comment' ? 'bg-green-600' :\r\n                        'bg-gray-600'\r\n                      }`}>\r\n                        {event.type === 'status_change' && <AlertCircle className=\"w-5 h-5 text-white\" />}\r\n                        {event.type === 'assignment' && <User className=\"w-5 h-5 text-white\" />}\r\n                        {event.type === 'comment' && <MessageSquare className=\"w-5 h-5 text-white\" />}\r\n                        {event.type === 'document' && <Upload className=\"w-5 h-5 text-white\" />}\r\n                      </div>\r\n                      {index < timeline.length - 1 && (\r\n                        <div className=\"w-0.5 h-8 bg-purple-500/30 mt-2\" />\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1 pb-8\">\r\n                      <div className=\"flex items-center justify-between mb-1\">\r\n                        <h4 className=\"text-white \">{event.title}</h4>\r\n                        <span className=\"text-sm text-purple-300/50\">\r\n                          {new Date(event.timestamp).toLocaleString('en-IN')}\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"mb-2 text-sm text-purple-300/70\">{event.description}</p>\r\n                      <p className=\"text-xs text-purple-300/50\">\r\n                        by {event.user} ({event.userRole})\r\n                      </p>\r\n                    </div>\r\n                  </motion.div>\r\n                ))}\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Add Comment Section */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.2 }}\r\n              className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n            >\r\n              <h3 className=\"mb-4 font-serif text-lg text-white\">Add Comment or Evidence</h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <textarea\r\n                  value={newComment}\r\n                  onChange={(e) => setNewComment(e.target.value)}\r\n                  placeholder=\"Add additional information, ask questions, or provide updates...\"\r\n                  rows={4}\r\n                  className=\"w-full px-4 py-3 text-white transition-all border rounded-lg resize-none bg-purple-950/20 border-purple-500/30 placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n                />\r\n                \r\n                <div>\r\n                  <input\r\n                    type=\"file\"\r\n                    multiple\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageUpload}\r\n                    className=\"hidden\"\r\n                    id=\"evidence-upload\"\r\n                  />\r\n                  <label\r\n                    htmlFor=\"evidence-upload\"\r\n                    className=\"inline-flex items-center space-x-2 text-purple-400 transition-colors cursor-pointer hover:text-purple-300\"\r\n                  >\r\n                    <Upload className=\"w-4 h-4\" />\r\n                    <span>Attach Additional Evidence</span>\r\n                  </label>\r\n                </div>\r\n\r\n                {newImages.length > 0 && (\r\n                  <div className=\"grid grid-cols-3 gap-2\">\r\n                    {newImages.map((image, index) => (\r\n                      <img\r\n                        key={index}\r\n                        src={URL.createObjectURL(image)}\r\n                        alt={`New evidence ${index + 1}`}\r\n                        className=\"object-cover w-full h-20 rounded\"\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n                <button\r\n                  onClick={submitComment}\r\n                  disabled={!newComment.trim() && newImages.length === 0}\r\n                  className=\"flex items-center px-4 py-2 space-x-2 text-white transition-colors bg-purple-600 rounded-lg hover:bg-purple-700 disabled:bg-purple-600/50\"\r\n                >\r\n                  <Send className=\"w-4 h-4\" />\r\n                  <span>Submit Comment</span>\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"space-y-6\">\r\n            {/* Status Summary */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.3 }}\r\n              className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n            >\r\n              <h3 className=\"mb-4 font-serif text-lg text-white\">Status Summary</h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-purple-300/70\">Current Status</span>\r\n                  <span className={`px-2 py-1 rounded text-xs  ${getStatusColor(complaint.status)}`}>\r\n                    {complaint.status.replace('-', ' ').toUpperCase()}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-purple-300/70\">Days Open</span>\r\n                  <span className=\"text-sm text-white\">\r\n                    {Math.ceil((Date.now() - new Date(complaint.createdAt).getTime()) / (1000 * 60 * 60 * 24))} days\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-purple-300/70\">Priority</span>\r\n                  <span className={`text-sm  ${getPriorityColor(complaint.priority)}`}>\r\n                    {complaint.priority.toUpperCase()}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-purple-300/70\">Priority Score</span>\r\n                  <span className=\"text-sm text-white\">\r\n                    {complaint.priority_score}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Actions */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.4 }}\r\n              className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n            >\r\n              <h3 className=\"mb-4 font-serif text-lg text-white\">Actions</h3>\r\n              \r\n              <div className=\"space-y-3\">\r\n                {complaint.status === 'resolved' && (\r\n                  <button\r\n                    onClick={() => setShowFeedback(true)}\r\n                    className=\"flex items-center justify-center w-full px-4 py-2 space-x-2 text-white transition-colors rounded-lg bg-emerald-600 hover:bg-emerald-700\"\r\n                  >\r\n                    <Star className=\"w-4 h-4\" />\r\n                    <span>Rate Resolution</span>\r\n                  </button>\r\n                )}\r\n\r\n                <button className=\"flex items-center justify-center w-full px-4 py-2 space-x-2 text-purple-300 transition-colors border rounded-lg border-purple-500/30 hover:bg-purple-500/10\">\r\n                  <Download className=\"w-4 h-4\" />\r\n                  <span>Download Report</span>\r\n                </button>\r\n\r\n                <Link href=\"/citizen/report\">\r\n                  <button className=\"flex items-center justify-center w-full px-4 py-2 space-x-2 text-purple-300 transition-colors border rounded-lg border-purple-500/30 hover:bg-purple-500/10\">\r\n                    <AlertCircle className=\"w-4 h-4\" />\r\n                    <span>Report Similar Issue</span>\r\n                  </button>\r\n                </Link>\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Contact Info */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.5 }}\r\n              className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n            >\r\n              <h3 className=\"mb-4 font-serif text-lg text-white\">Contact Information</h3>\r\n              \r\n              {complaint.assigned_to && (\r\n                <div className=\"space-y-2\">\r\n                  <p className=\"text-sm text-purple-300/70\">Assigned Officer</p>\r\n                  <p className=\"text-white \">{complaint.assigned_to}</p>\r\n                  <p className=\"text-sm text-purple-300/70\">Department: Infrastructure</p>\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Feedback Modal */}\r\n      {showFeedback && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50\">\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"w-full max-w-md p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n          >\r\n            <h3 className=\"mb-4 font-serif text-xl text-white\">Rate This Resolution</h3>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <p className=\"mb-3 text-purple-300/70\">How satisfied are you with the resolution?</p>\r\n                <div className=\"flex space-x-2\">\r\n                  {[1, 2, 3, 4, 5].map((star) => (\r\n                    <button\r\n                      key={star}\r\n                      onClick={() => setRating(star)}\r\n                      className={`w-8 h-8 ${\r\n                        star <= rating ? 'text-yellow-400' : 'text-purple-300/30'\r\n                      } hover:text-yellow-400 transition-colors`}\r\n                    >\r\n                      <Star className=\"w-full h-full fill-current\" />\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block mb-2 text-sm text-purple-300\">\r\n                  Additional Comments (Optional)\r\n                </label>\r\n                <textarea\r\n                  value={feedbackComment}\r\n                  onChange={(e) => setFeedbackComment(e.target.value)}\r\n                  placeholder=\"Share your experience or suggestions...\"\r\n                  rows={3}\r\n                  className=\"w-full px-3 py-2 text-white transition-all border rounded-lg resize-none bg-purple-950/20 border-purple-500/30 placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex space-x-3\">\r\n                <button\r\n                  onClick={() => setShowFeedback(false)}\r\n                  className=\"flex-1 px-4 py-2 text-purple-300 transition-colors border rounded-lg border-purple-500/30 hover:bg-purple-500/10\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={submitFeedback}\r\n                  disabled={rating === 0}\r\n                  className=\"flex-1 px-4 py-2 text-white transition-colors bg-purple-600 rounded-lg hover:bg-purple-700 disabled:bg-purple-600/50\"\r\n                >\r\n                  Submit Rating\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}