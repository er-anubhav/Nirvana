{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/lib/supabase-logger.ts"],"sourcesContent":["type LogLevel = 'info' | 'warn' | 'error' | 'debug'\r\n\r\ninterface SupabaseLogEntry {\r\n  timestamp: string\r\n  level: LogLevel\r\n  operation: string\r\n  table?: string\r\n  userId?: string\r\n  duration?: number\r\n  details?: any\r\n  error?: any\r\n}\r\n\r\nclass SupabaseLogger {\r\n  private logs: SupabaseLogEntry[] = []\r\n  private maxLogs = 100 // Keep only last 100 logs\r\n\r\n  private formatTimestamp(): string {\r\n    return new Date().toISOString()\r\n  }\r\n\r\n  private addLog(entry: SupabaseLogEntry) {\r\n    this.logs.push(entry)\r\n    \r\n    // Keep only the most recent logs\r\n    if (this.logs.length > this.maxLogs) {\r\n      this.logs = this.logs.slice(-this.maxLogs)\r\n    }\r\n\r\n    // Console output with appropriate styling\r\n    const emoji = {\r\n      info: 'â„¹ï¸',\r\n      warn: 'âš ï¸',\r\n      error: 'âŒ',\r\n      debug: 'ðŸ”'\r\n    }\r\n\r\n    const prefix = `${emoji[entry.level]} [SUPABASE ${entry.level.toUpperCase()}]`\r\n    const message = `${prefix} ${entry.operation}`\r\n    \r\n    switch (entry.level) {\r\n      case 'error':\r\n        console.error(message, entry.details || entry.error)\r\n        break\r\n      case 'warn':\r\n        console.warn(message, entry.details)\r\n        break\r\n      case 'debug':\r\n        console.debug(message, entry.details)\r\n        break\r\n      default:\r\n        console.log(message, entry.details)\r\n    }\r\n  }\r\n\r\n  // Log successful database operations\r\n  logOperation(operation: string, table: string, details?: any, duration?: number) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'info',\r\n      operation: `${operation} on ${table}`,\r\n      table,\r\n      duration,\r\n      details\r\n    })\r\n  }\r\n\r\n  // Log authentication events\r\n  logAuth(event: string, userId?: string, details?: any) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'info',\r\n      operation: `Auth: ${event}`,\r\n      userId,\r\n      details\r\n    })\r\n  }\r\n\r\n  // Log errors with context\r\n  logError(operation: string, error: any, context?: any) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'error',\r\n      operation: `Error: ${operation}`,\r\n      error,\r\n      details: context\r\n    })\r\n  }\r\n\r\n  // Log warnings\r\n  logWarning(operation: string, message: string, details?: any) {\r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level: 'warn',\r\n      operation,\r\n      details: { message, ...details }\r\n    })\r\n  }\r\n\r\n  // Log debug information (only in development)\r\n  logDebug(operation: string, details?: any) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      this.addLog({\r\n        timestamp: this.formatTimestamp(),\r\n        level: 'debug',\r\n        operation,\r\n        details\r\n      })\r\n    }\r\n  }\r\n\r\n  // Log connection events\r\n  logConnection(status: 'connecting' | 'connected' | 'disconnected' | 'failed', details?: any) {\r\n    const level: LogLevel = status === 'failed' ? 'error' : status === 'disconnected' ? 'warn' : 'info'\r\n    \r\n    this.addLog({\r\n      timestamp: this.formatTimestamp(),\r\n      level,\r\n      operation: `Connection ${status}`,\r\n      details\r\n    })\r\n  }\r\n\r\n  // Get recent logs\r\n  getRecentLogs(count: number = 10): SupabaseLogEntry[] {\r\n    return this.logs.slice(-count)\r\n  }\r\n\r\n  // Get logs by level\r\n  getLogsByLevel(level: LogLevel): SupabaseLogEntry[] {\r\n    return this.logs.filter(log => log.level === level)\r\n  }\r\n\r\n  // Clear logs\r\n  clearLogs() {\r\n    this.logs = []\r\n    console.log('ðŸ§¹ Supabase logs cleared')\r\n  }\r\n\r\n  // Export logs for debugging\r\n  exportLogs(): string {\r\n    return JSON.stringify(this.logs, null, 2)\r\n  }\r\n\r\n  // Performance monitoring\r\n  startTimer(operation: string): () => void {\r\n    const startTime = performance.now()\r\n    \r\n    return () => {\r\n      const duration = performance.now() - startTime\r\n      this.logDebug(`Performance: ${operation}`, { duration: `${duration.toFixed(2)}ms` })\r\n      return duration\r\n    }\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nexport const supabaseLogger = new SupabaseLogger()\r\n\r\n// Convenience functions\r\nexport const logSupabaseOperation = (operation: string, table: string, details?: any, duration?: number) => {\r\n  supabaseLogger.logOperation(operation, table, details, duration)\r\n}\r\n\r\nexport const logSupabaseAuth = (event: string, userId?: string, details?: any) => {\r\n  supabaseLogger.logAuth(event, userId, details)\r\n}\r\n\r\nexport const logSupabaseError = (operation: string, error: any, context?: any) => {\r\n  supabaseLogger.logError(operation, error, context)\r\n}\r\n\r\nexport const logSupabaseWarning = (operation: string, message: string, details?: any) => {\r\n  supabaseLogger.logWarning(operation, message, details)\r\n}\r\n\r\nexport const logSupabaseDebug = (operation: string, details?: any) => {\r\n  supabaseLogger.logDebug(operation, details)\r\n}\r\n\r\nexport const logSupabaseConnection = (status: 'connecting' | 'connected' | 'disconnected' | 'failed', details?: any) => {\r\n  supabaseLogger.logConnection(status, details)\r\n}\r\n\r\n// Hook for React components to access logs\r\nexport const useSupabaseLogs = () => {\r\n  return {\r\n    getRecentLogs: (count?: number) => supabaseLogger.getRecentLogs(count),\r\n    getLogsByLevel: (level: LogLevel) => supabaseLogger.getLogsByLevel(level),\r\n    clearLogs: () => supabaseLogger.clearLogs(),\r\n    exportLogs: () => supabaseLogger.exportLogs()\r\n  }\r\n}\r\n\r\nexport default supabaseLogger\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/lib/supabase.ts"],"sourcesContent":["import { createClient, SupabaseClient } from '@supabase/supabase-js'\r\nimport { logSupabaseConnection, logSupabaseError, logSupabaseDebug } from './supabase-logger'\r\nimport type { Database } from '@/types/database'\r\n\r\n// Environment variables\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\n// Validate environment variables\r\nif (!supabaseUrl) {\r\n  const errorMsg = 'Missing NEXT_PUBLIC_SUPABASE_URL'\r\n  logSupabaseError('initialization', new Error(errorMsg))\r\n  throw new Error(errorMsg)\r\n}\r\n\r\nif (!supabaseAnonKey) {\r\n  const errorMsg = 'Missing NEXT_PUBLIC_SUPABASE_ANON_KEY'\r\n  logSupabaseError('initialization', new Error(errorMsg))\r\n  throw new Error(errorMsg)\r\n}\r\n\r\n// Log connection attempt\r\nlogSupabaseConnection('connecting', {\r\n  url: supabaseUrl,\r\n  keyPreview: supabaseAnonKey.substring(0, 20) + '...'\r\n})\r\n\r\n// Create Supabase client\r\nexport const supabase: SupabaseClient<Database> = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: true\r\n  },\r\n  db: {\r\n    schema: 'public'\r\n  },\r\n  global: {\r\n    headers: {\r\n      'X-Client-Info': 'Nirvana-Municipal-Platform'\r\n    }\r\n  }\r\n})\r\n\r\n// Connection validation function\r\nexport const validateSupabaseConnection = async (): Promise<boolean> => {\r\n  try {\r\n    logSupabaseDebug('Starting connection validation')\r\n    \r\n    // Test the connection by making a simple query\r\n    const { data, error } = await supabase\r\n      .from('_health_check')\r\n      .select('*')\r\n      .limit(1)\r\n\r\n    if (error) {\r\n      // If health check table doesn't exist, try a different approach\r\n      if (error.code === 'PGRST116' || error.message.includes('does not exist')) {\r\n        logSupabaseDebug('Health check table not found, testing with auth instead')\r\n        \r\n        // Test with auth session\r\n        const { data: session, error: authError } = await supabase.auth.getSession()\r\n        \r\n        if (authError) {\r\n          logSupabaseError('auth_connection_test', authError)\r\n          return false\r\n        }\r\n        \r\n        logSupabaseConnection('connected', {\r\n          method: 'auth_test',\r\n          hasActiveSession: !!session.session\r\n        })\r\n        return true\r\n      } else {\r\n        logSupabaseError('health_check', error)\r\n        return false\r\n      }\r\n    }\r\n\r\n    logSupabaseConnection('connected', {\r\n      method: 'health_check',\r\n      responseData: data\r\n    })\r\n    return true\r\n\r\n  } catch (error) {\r\n    logSupabaseError('connection_validation', error)\r\n    return false\r\n  }\r\n}\r\n\r\n// Auto-validate connection on import (only in development)\r\nif (process.env.NODE_ENV === 'development') {\r\n  validateSupabaseConnection().then((isValid) => {\r\n    if (isValid) {\r\n      logSupabaseConnection('connected', { autoValidation: true })\r\n    } else {\r\n      logSupabaseConnection('failed', { autoValidation: true })\r\n    }\r\n  })\r\n}\r\n\r\n// Export types for TypeScript\r\nexport type { SupabaseClient } from '@supabase/supabase-js'\r\nexport type { Database } from '@/types/database'\r\n\r\n// Helper function to log database operations (deprecated - use logger directly)\r\nexport const logDatabaseOperation = (operation: string, table: string, details?: any) => {\r\n  logSupabaseDebug(`Database Operation: ${operation.toUpperCase()} on ${table}`, details)\r\n}\r\n\r\n// Helper function to handle Supabase errors with logging\r\nexport const handleSupabaseError = (error: any, context: string) => {\r\n  logSupabaseError(context, error)\r\n  \r\n  // Return user-friendly error message\r\n  return {\r\n    error: true,\r\n    message: error.message || 'An unexpected error occurred',\r\n    code: error.code\r\n  }\r\n}\r\n\r\nexport default supabase\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;AAGA,wBAAwB;AACxB,MAAM;AACN,MAAM;AAEN,iCAAiC;AACjC,uCAAkB;;AAIlB;AAEA,uCAAsB;;AAItB;AAEA,yBAAyB;AACzB,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,cAAc;IAClC,KAAK;IACL,YAAY,gBAAgB,SAAS,CAAC,GAAG,MAAM;AACjD;AAGO,MAAM,WAAqC,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IAC3F,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;IACA,IAAI;QACF,QAAQ;IACV;IACA,QAAQ;QACN,SAAS;YACP,iBAAiB;QACnB;IACF;AACF;AAGO,MAAM,6BAA6B;IACxC,IAAI;QACF,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE;QAEjB,+CAA+C;QAC/C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,OAAO;YACT,gEAAgE;YAChE,IAAI,MAAM,IAAI,KAAK,cAAc,MAAM,OAAO,CAAC,QAAQ,CAAC,mBAAmB;gBACzE,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE;gBAEjB,yBAAyB;gBACzB,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;gBAE1E,IAAI,WAAW;oBACb,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,wBAAwB;oBACzC,OAAO;gBACT;gBAEA,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,aAAa;oBACjC,QAAQ;oBACR,kBAAkB,CAAC,CAAC,QAAQ,OAAO;gBACrC;gBACA,OAAO;YACT,OAAO;gBACL,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,gBAAgB;gBACjC,OAAO;YACT;QACF;QAEA,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,aAAa;YACjC,QAAQ;YACR,cAAc;QAChB;QACA,OAAO;IAET,EAAE,OAAO,OAAO;QACd,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,yBAAyB;QAC1C,OAAO;IACT;AACF;AAEA,2DAA2D;AAC3D,wCAA4C;IAC1C,6BAA6B,IAAI,CAAC,CAAC;QACjC,IAAI,SAAS;YACX,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,aAAa;gBAAE,gBAAgB;YAAK;QAC5D,OAAO;YACL,CAAA,GAAA,gIAAA,CAAA,wBAAqB,AAAD,EAAE,UAAU;gBAAE,gBAAgB;YAAK;QACzD;IACF;AACF;AAOO,MAAM,uBAAuB,CAAC,WAAmB,OAAe;IACrE,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,CAAC,oBAAoB,EAAE,UAAU,WAAW,GAAG,IAAI,EAAE,OAAO,EAAE;AACjF;AAGO,MAAM,sBAAsB,CAAC,OAAY;IAC9C,CAAA,GAAA,gIAAA,CAAA,mBAAgB,AAAD,EAAE,SAAS;IAE1B,qCAAqC;IACrC,OAAO;QACL,OAAO;QACP,SAAS,MAAM,OAAO,IAAI;QAC1B,MAAM,MAAM,IAAI;IAClB;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/lib/auth.ts"],"sourcesContent":["import { supabase } from './supabase';\r\nimport type { User } from '@/types/database';\r\n\r\nexport interface AuthUser {\r\n  id: string;\r\n  phone: string;\r\n  name: string;\r\n  role: string;\r\n}\r\n\r\n// Simple authentication service using phone number and common password\r\nexport const authService = {\r\n  // Login with phone number and password\r\n  async login(phone: string, password: string): Promise<{ user: AuthUser | null; error: string | null }> {\r\n    try {\r\n      // For now, we're using a common password \"root\" for all citizens\r\n      if (password !== 'root') {\r\n        return { user: null, error: 'Invalid password' };\r\n      }\r\n\r\n      console.log('Attempting login for phone:', phone);\r\n\r\n      // Automatically add 91 country code if not present\r\n      const phoneWithCountryCode = phone.startsWith('91') ? phone : `91${phone}`;\r\n      console.log('Phone with country code:', phoneWithCountryCode);\r\n\r\n      // Find user by phone number\r\n      const { data: users, error } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('phone_number', phoneWithCountryCode)\r\n        .limit(1);\r\n\r\n      console.log('Database query result:', { users, error });\r\n\r\n      if (error) {\r\n        console.error('Auth error:', error);\r\n        return { user: null, error: `Authentication failed: ${error.message}` };\r\n      }\r\n\r\n      if (!users || users.length === 0) {\r\n        return { user: null, error: 'User not found. Please check your phone number.' };\r\n      }\r\n\r\n      const user = users[0];\r\n      console.log('Found user:', user);\r\n\r\n      const authUser: AuthUser = {\r\n        id: user.id,\r\n        phone: user.phone_number,\r\n        name: user.name,\r\n        role: user.role\r\n      };\r\n\r\n      // Store user in localStorage for simple session management\r\n      localStorage.setItem('currentUser', JSON.stringify(authUser));\r\n\r\n      return { user: authUser, error: null };\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      return { user: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get current authenticated user\r\n  getCurrentUser(): AuthUser | null {\r\n    try {\r\n      const userStr = localStorage.getItem('currentUser');\r\n      if (!userStr) return null;\r\n      return JSON.parse(userStr);\r\n    } catch {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // Logout user\r\n  logout(): void {\r\n    localStorage.removeItem('currentUser');\r\n  },\r\n\r\n  // Check if user is authenticated\r\n  isAuthenticated(): boolean {\r\n    return this.getCurrentUser() !== null;\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;AAWO,MAAM,cAAc;IACzB,uCAAuC;IACvC,MAAM,OAAM,KAAa,EAAE,QAAgB;QACzC,IAAI;YACF,iEAAiE;YACjE,IAAI,aAAa,QAAQ;gBACvB,OAAO;oBAAE,MAAM;oBAAM,OAAO;gBAAmB;YACjD;YAEA,QAAQ,GAAG,CAAC,+BAA+B;YAE3C,mDAAmD;YACnD,MAAM,uBAAuB,MAAM,UAAU,CAAC,QAAQ,QAAQ,CAAC,EAAE,EAAE,OAAO;YAC1E,QAAQ,GAAG,CAAC,4BAA4B;YAExC,4BAA4B;YAC5B,MAAM,EAAE,MAAM,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CAC1C,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,gBAAgB,sBACnB,KAAK,CAAC;YAET,QAAQ,GAAG,CAAC,0BAA0B;gBAAE;gBAAO;YAAM;YAErD,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,eAAe;gBAC7B,OAAO;oBAAE,MAAM;oBAAM,OAAO,CAAC,uBAAuB,EAAE,MAAM,OAAO,EAAE;gBAAC;YACxE;YAEA,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;gBAChC,OAAO;oBAAE,MAAM;oBAAM,OAAO;gBAAkD;YAChF;YAEA,MAAM,OAAO,KAAK,CAAC,EAAE;YACrB,QAAQ,GAAG,CAAC,eAAe;YAE3B,MAAM,WAAqB;gBACzB,IAAI,KAAK,EAAE;gBACX,OAAO,KAAK,YAAY;gBACxB,MAAM,KAAK,IAAI;gBACf,MAAM,KAAK,IAAI;YACjB;YAEA,2DAA2D;YAC3D,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;YAEnD,OAAO;gBAAE,MAAM;gBAAU,OAAO;YAAK;QACvC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,OAAO;gBAAE,MAAM;gBAAM,OAAO;YAA+B;QAC7D;IACF;IAEA,iCAAiC;IACjC;QACE,IAAI;YACF,MAAM,UAAU,aAAa,OAAO,CAAC;YACrC,IAAI,CAAC,SAAS,OAAO;YACrB,OAAO,KAAK,KAAK,CAAC;QACpB,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,cAAc;IACd;QACE,aAAa,UAAU,CAAC;IAC1B;IAEA,iCAAiC;IACjC;QACE,OAAO,IAAI,CAAC,cAAc,OAAO;IACnC;AACF","debugId":null}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/lib/complaints.ts"],"sourcesContent":["import { supabase } from './supabase';\r\nimport type { Complaint, User } from '@/types/database';\r\n\r\nexport interface ComplaintWithDetails extends Complaint {\r\n  assignedUser?: User;\r\n  categoryName?: string;\r\n  createdAt: string; // Add this field for dashboard compatibility\r\n}\r\n\r\nexport const complaintService = {\r\n  // Get complaints for a specific user\r\n  async getUserComplaints(userId: string): Promise<{ data: ComplaintWithDetails[] | null; error: string | null }> {\r\n    try {\r\n      const { data: complaints, error } = await supabase\r\n        .from('complaints')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (error) {\r\n        console.error('Error fetching complaints:', error);\r\n        return { data: null, error: 'Failed to fetch complaints' };\r\n      }\r\n\r\n      // Map created_at to createdAt for consistency with frontend expectations\r\n      const complaintsWithFormattedDate = complaints?.map(complaint => ({\r\n        ...complaint,\r\n        createdAt: complaint.created_at\r\n      })) || [];\r\n\r\n      return { data: complaintsWithFormattedDate as ComplaintWithDetails[], error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get all complaints (for public dashboard)\r\n  async getAllComplaints(limit: number = 50): Promise<{ data: ComplaintWithDetails[] | null; error: string | null }> {\r\n    try {\r\n      const { data: complaints, error } = await supabase\r\n        .from('complaints')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n        .limit(limit);\r\n\r\n      if (error) {\r\n        console.error('Error fetching all complaints:', error);\r\n        return { data: null, error: 'Failed to fetch complaints' };\r\n      }\r\n\r\n      // Map created_at to createdAt for consistency with frontend expectations\r\n      const complaintsWithFormattedDate = complaints?.map(complaint => ({\r\n        ...complaint,\r\n        createdAt: complaint.created_at\r\n      })) || [];\r\n\r\n      return { data: complaintsWithFormattedDate as ComplaintWithDetails[], error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get a single complaint by ID\r\n  async getComplaintById(complaintId: string): Promise<{ data: ComplaintWithDetails | null; error: string | null }> {\r\n    try {\r\n      const { data: complaint, error } = await supabase\r\n        .from('complaints')\r\n        .select('*')\r\n        .eq('id', complaintId)\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error fetching complaint:', error);\r\n        return { data: null, error: 'Failed to fetch complaint' };\r\n      }\r\n\r\n      // Map created_at to createdAt for consistency with frontend expectations\r\n      const complaintWithFormattedDate = {\r\n        ...complaint,\r\n        createdAt: complaint.created_at\r\n      };\r\n\r\n      return { data: complaintWithFormattedDate as ComplaintWithDetails, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get complaint statistics for a user\r\n  async getUserStats(userId: string): Promise<{ \r\n    total: number; \r\n    pending: number; \r\n    resolved: number; \r\n    avgResolutionTime: string;\r\n    error: string | null;\r\n  }> {\r\n    try {\r\n      const { data: complaints, error } = await supabase\r\n        .from('complaints')\r\n        .select('status')\r\n        .eq('user_id', userId);\r\n\r\n      if (error) {\r\n        console.error('Error fetching stats:', error);\r\n        return { total: 0, pending: 0, resolved: 0, avgResolutionTime: 'N/A', error: 'Failed to fetch statistics' };\r\n      }\r\n\r\n      const total = complaints.length;\r\n      const pending = complaints.filter(c => c.status === 'pending' || c.status === 'in_progress').length;\r\n      const resolved = complaints.filter(c => c.status === 'resolved').length;\r\n\r\n      // Since there's no timestamp data in the schema, we'll show N/A for resolution time\r\n      const avgResolutionTime = 'N/A';\r\n\r\n      return { total, pending, resolved, avgResolutionTime, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { total: 0, pending: 0, resolved: 0, avgResolutionTime: 'N/A', error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Get categories\r\n  async getCategories(): Promise<{ data: any[] | null; error: string | null }> {\r\n    try {\r\n      const { data: categories, error } = await supabase\r\n        .from('categories')\r\n        .select('*')\r\n        .order('name');\r\n\r\n      if (error) {\r\n        console.error('Error fetching categories:', error);\r\n        return { data: null, error: 'Failed to fetch categories' };\r\n      }\r\n\r\n      return { data: categories, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  },\r\n\r\n  // Create a new complaint\r\n  async createComplaint(complaintData: {\r\n    title: string;\r\n    description: string;\r\n    category: string;\r\n    location: string;\r\n    priority?: string;\r\n    location_lat?: number;\r\n    location_lng?: number;\r\n    image_url?: string;\r\n  }, userId: string): Promise<{ data: Complaint | null; error: string | null }> {\r\n    try {\r\n      const { data: complaint, error } = await supabase\r\n        .from('complaints')\r\n        .insert({\r\n          title: complaintData.title,\r\n          description: complaintData.description,\r\n          category: complaintData.category,\r\n          location: complaintData.location,\r\n          user_id: userId,\r\n          status: 'pending',\r\n          priority: complaintData.priority || 'medium',\r\n          location_lat: complaintData.location_lat,\r\n          location_lng: complaintData.location_lng,\r\n          image_url: complaintData.image_url,\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error creating complaint:', error);\r\n        return { data: null, error: 'Failed to create complaint' };\r\n      }\r\n\r\n      return { data: complaint, error: null };\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      return { data: null, error: 'An unexpected error occurred' };\r\n    }\r\n  }\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 691, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ertri/Desktop/GRUI/Frontend/src/app/citizen/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Plus, \r\n  AlertCircle, \r\n  CheckCircle, \r\n  Clock, \r\n  TrendingUp, \r\n  Bell,\r\n  User,\r\n  MapPin,\r\n  Calendar,\r\n  Eye,\r\n  Image\r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { authService } from '@/lib/auth';\r\nimport { complaintService, type ComplaintWithDetails } from '@/lib/complaints';\r\n\r\nexport default function CitizenDashboard() {\r\n  const [complaints, setComplaints] = useState<ComplaintWithDetails[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [activeFilter, setActiveFilter] = useState<string>('all');\r\n  const [stats, setStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    resolved: 0,\r\n    avgResolutionTime: 'N/A'\r\n  });\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const user = authService.getCurrentUser();\r\n    if (!user) {\r\n      router.push('/auth/login');\r\n      return;\r\n    }\r\n    setCurrentUser(user);\r\n    loadUserData(user.id);\r\n  }, [router]);\r\n\r\n  const loadUserData = async (userId: string) => {\r\n    setLoading(true);\r\n    try {\r\n      // Load complaints\r\n      const { data: complaintsData, error: complaintsError } = await complaintService.getUserComplaints(userId);\r\n      if (complaintsError) {\r\n        setError(complaintsError);\r\n      } else if (complaintsData) {\r\n        console.log('Loaded complaints:', complaintsData);\r\n        setComplaints(complaintsData);\r\n      }\r\n\r\n      // Load stats\r\n      const statsData = await complaintService.getUserStats(userId);\r\n      if (statsData.error) {\r\n        console.error('Stats error:', statsData.error);\r\n      } else {\r\n        setStats({\r\n          total: statsData.total,\r\n          pending: statsData.pending,\r\n          resolved: statsData.resolved,\r\n          avgResolutionTime: statsData.avgResolutionTime\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load data');\r\n      console.error('Error loading user data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredComplaints = complaints.filter(complaint => {\r\n    if (activeFilter === 'all') return true;\r\n    return complaint.status === activeFilter;\r\n  });\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'pending': return 'text-amber-300 bg-amber-500/20';\r\n      case 'in_progress': return 'text-blue-300 bg-blue-500/20';\r\n      case 'resolved': return 'text-emerald-300 bg-emerald-500/20';\r\n      case 'closed': return 'text-red-300 bg-red-500/20';\r\n      default: return 'text-purple-300 bg-purple-500/20';\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'urgent': return 'text-red-400';\r\n      case 'high': return 'text-orange-400';\r\n      case 'medium': return 'text-yellow-400';\r\n      case 'low': return 'text-green-400';\r\n      default: return 'text-purple-400';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-IN', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-[#0a0613] via-[#150d27] to-[#0a0613] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-12 h-12 mx-auto mb-4 border-2 rounded-full border-purple-500/20 border-t-purple-500 animate-spin\"></div>\r\n          <p className=\"text-purple-300\">Loading your dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-[#0a0613] via-[#150d27] to-[#0a0613]\">\r\n      {/* Navigation Header */}\r\n      <nav className=\"sticky top-0 z-10 p-4 border-b bg-purple-500/5 backdrop-blur-sm border-purple-500/20\">\r\n        <div className=\"flex items-center justify-between mx-auto max-w-7xl\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <h1 className=\"font-serif text-2xl font-normal text-white\">Nirvana</h1>\r\n            <span className=\"text-purple-300/70\">Citizen Dashboard</span>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-4\">\r\n            <Link \r\n              href=\"/citizen/notifications\"\r\n              className=\"relative p-2 text-purple-400 transition-colors hover:text-purple-300\"\r\n            >\r\n              <Bell className=\"w-6 h-6\" />\r\n              <span className=\"absolute w-3 h-3 bg-red-500 rounded-full -top-1 -right-1\"></span>\r\n            </Link>\r\n            <Link \r\n              href=\"/citizen/profile\"\r\n              className=\"flex items-center space-x-2 text-purple-400 transition-colors hover:text-purple-300\"\r\n            >\r\n              <User className=\"w-6 h-6\" />\r\n              <span className=\"hidden md:block\">Profile</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"p-6 mx-auto max-w-7xl\">\r\n        {/* Welcome Section */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"mb-8\"\r\n        >\r\n          <div className=\"flex flex-col justify-between md:flex-row md:items-center\">\r\n            <div>\r\n              <h2 className=\"mt-8 mb-2 font-serif text-3xl font-normal text-white\">\r\n                Welcome back, {currentUser?.name || 'Citizen'}!\r\n              </h2>\r\n              <p className=\"text-lg text-purple-300/70\">\r\n                Track your complaints and report new issues with our AI-powered system.\r\n              </p>\r\n            </div>\r\n            <div className=\"mt-4 md:mt-8\">\r\n              <Link href=\"/citizen/gallery\">\r\n                <motion.button\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  className=\"flex items-center px-6 py-3 space-x-2 text-white transition-colors bg-purple-600 rounded-lg hover:bg-purple-700\"\r\n                >\r\n                  <Image className=\"w-5 h-5\" />\r\n                  <span>Your Gallery</span>\r\n                </motion.button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Stats Overview */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.1 }}\r\n          className=\"grid grid-cols-1 gap-6 mb-8 md:grid-cols-4\"\r\n        >\r\n          <div className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-purple-300/70\">Total Complaints</p>\r\n                <p className=\"font-serif text-2xl font-normal text-white\">{stats.total}</p>\r\n              </div>\r\n              <AlertCircle className=\"w-8 h-8 text-purple-400\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-purple-300/70\">Pending</p>\r\n                <p className=\"font-serif text-2xl font-normal text-white\">{stats.pending}</p>\r\n              </div>\r\n              <Clock className=\"w-8 h-8 text-amber-400\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-purple-300/70\">Resolved</p>\r\n                <p className=\"font-serif text-2xl font-normal text-white\">{stats.resolved}</p>\r\n              </div>\r\n              <CheckCircle className=\"w-8 h-8 text-emerald-400\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6 border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-purple-300/70\">Avg Resolution</p>\r\n                <p className=\"font-serif text-2xl font-normal text-white\">{stats.avgResolutionTime}</p>\r\n              </div>\r\n              <TrendingUp className=\"w-8 h-8 text-blue-400\" />\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Main Action Button */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n          className=\"mb-8\"\r\n        >\r\n          <Link href=\"/citizen/report\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              className=\"flex items-center justify-center w-full px-8 py-4 space-x-3 font-normal text-white border-1\"\r\n            >\r\n              <Plus className=\"w-6 h-6\" />\r\n              <span className=\"text-lg\">Report New Complaint</span>\r\n            </motion.button>\r\n          </Link>\r\n        </motion.div>\r\n\r\n        {/* Complaints Section */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.3 }}\r\n          className=\"overflow-hidden border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl\"\r\n        >\r\n          {/* Header with filters */}\r\n          <div className=\"p-6 border-b border-purple-500/20\">\r\n            <div className=\"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0\">\r\n              <h3 className=\"font-serif text-xl font-normal text-white\">Your Complaints</h3>\r\n              \r\n              {/* Filter tabs */}\r\n              <div className=\"flex p-1 space-x-1 rounded-lg bg-purple-950/20\">\r\n                {[\r\n                  { key: 'all', label: 'All' },\r\n                  { key: 'pending', label: 'Pending' },\r\n                  { key: 'in_progress', label: 'In Progress' },\r\n                  { key: 'resolved', label: 'Resolved' },\r\n                  { key: 'closed', label: 'Closed' }\r\n                ].map((filter) => (\r\n                  <button\r\n                    key={filter.key}\r\n                    onClick={() => setActiveFilter(filter.key)}\r\n                    className={`px-4 py-2 text-sm font-normal rounded-md transition-colors ${\r\n                      activeFilter === filter.key\r\n                        ? 'bg-purple-600 text-white'\r\n                        : 'text-purple-300 hover:text-white hover:bg-purple-500/20'\r\n                    }`}\r\n                  >\r\n                    {filter.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Error State */}\r\n          {error && (\r\n            <div className=\"p-6\">\r\n              <div className=\"p-4 text-center border rounded-lg border-red-500/30 bg-red-500/10\">\r\n                <p className=\"text-red-400\">{error}</p>\r\n                <button \r\n                  onClick={() => currentUser && loadUserData(currentUser.id)}\r\n                  className=\"px-4 py-2 mt-2 text-sm text-white transition-colors bg-red-600 rounded-lg hover:bg-red-700\"\r\n                >\r\n                  Retry\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Complaints List */}\r\n          <div className=\"divide-y divide-purple-500/10\">\r\n            {!error && filteredComplaints.length > 0 ? (\r\n              filteredComplaints.map((complaint, index) => (\r\n                <motion.div\r\n                  key={complaint.id}\r\n                  initial={{ opacity: 0, x: -20 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ duration: 0.4, delay: index * 0.1 }}\r\n                  className=\"p-6 transition-colors hover:bg-purple-500/5\"\r\n                >\r\n                  <div className=\"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-start justify-between mb-2\">\r\n                        <div>\r\n                          <h4 className=\"mb-1 text-lg font-normal text-white\">\r\n                            {complaint.title}\r\n                          </h4>\r\n                          <p className=\"mb-2 text-sm text-purple-300/70\">\r\n                            ID: {complaint.id}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"flex items-center ml-4 space-x-2\">\r\n                          <span className={`px-3 py-1 rounded-full text-xs font-normal ${getStatusColor(complaint.status)}`}>\r\n                            {complaint.status.replace('-', ' ').toUpperCase()}\r\n                          </span>\r\n                          <span className={`text-xs font-normal ${getPriorityColor(complaint.priority)}`}>\r\n                            {complaint.priority.toUpperCase()}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex flex-wrap items-center gap-4 mb-3 text-sm text-purple-300/70\">\r\n                        <span className=\"flex items-center\">\r\n                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n                          {complaint.category}\r\n                        </span>\r\n                        <span className=\"flex items-center\">\r\n                          <Calendar className=\"w-4 h-4 mr-1\" />\r\n                          {formatDate(complaint.createdAt)}\r\n                        </span>\r\n                        {complaint.image_url && (\r\n                          <span className=\"flex items-center\">\r\n                            <Image className=\"w-4 h-4 mr-1\" />\r\n                            Image attached\r\n                          </span>\r\n                        )}\r\n                        {complaint.assignedUser && (\r\n                          <span className=\"flex items-center\">\r\n                            <User className=\"w-4 h-4 mr-1\" />\r\n                            {complaint.assignedUser.name}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <p className=\"text-sm text-purple-300/70 line-clamp-2\">\r\n                        {complaint.description}\r\n                      </p>\r\n                      \r\n                      {/* Display complaint image if available */}\r\n                      {complaint.image_url && (\r\n                        <div className=\"mt-3\">\r\n                          <p className=\"mb-1 text-xs text-purple-400\">Image URL: {complaint.image_url}</p>\r\n                          <img \r\n                            src={complaint.image_url} \r\n                            alt={`Image for complaint: ${complaint.title}`}\r\n                            className=\"object-cover w-full h-32 max-w-md border rounded-lg border-purple-500/20\"\r\n                            onLoad={() => console.log('Image loaded successfully:', complaint.image_url)}\r\n                            onError={(e) => {\r\n                              console.log('Image failed to load:', complaint.image_url);\r\n                              e.currentTarget.src = '/no-image.png';\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-2 lg:ml-6\">\r\n                      <Link href={`/citizen/complaints/${complaint.id}`}>\r\n                        <button className=\"flex items-center px-4 py-2 space-x-2 text-white transition-colors bg-purple-600 rounded-lg hover:bg-purple-700\">\r\n                          <Eye className=\"w-4 h-4\" />\r\n                          <span>View Details</span>\r\n                        </button>\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              ))\r\n            ) : (\r\n              <div className=\"p-12 text-center\">\r\n                <AlertCircle className=\"w-12 h-12 mx-auto mb-4 text-purple-400\" />\r\n                <h4 className=\"mb-2 text-lg font-normal text-white\">No complaints found</h4>\r\n                <p className=\"mb-6 text-purple-300/70\">\r\n                  {activeFilter === 'all' \r\n                    ? \"You haven't submitted any complaints yet.\"\r\n                    : `No complaints with status \"${activeFilter}\".`\r\n                  }\r\n                </p>\r\n                <Link href=\"/citizen/report\">\r\n                  <button className=\"px-6 py-3 text-white transition-colors bg-purple-600 rounded-lg hover:bg-purple-700\">\r\n                    Report Your First Complaint\r\n                  </button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Quick Links */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.4 }}\r\n          className=\"grid grid-cols-1 gap-6 mt-8 md:grid-cols-4\"\r\n        >\r\n          <Link href=\"/public\" className=\"p-6 transition-colors border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl hover:bg-purple-500/10\">\r\n            <h4 className=\"mb-2 text-lg font-normal text-white\">Public Dashboard</h4>\r\n            <p className=\"text-sm text-purple-300/70\">View community complaints and statistics</p>\r\n          </Link>\r\n          \r\n          <Link href=\"/citizen/gallery\" className=\"p-6 transition-colors border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl hover:bg-purple-500/10\">\r\n            <h4 className=\"mb-2 text-lg font-normal text-white\">Media Gallery</h4>\r\n            <p className=\"text-sm text-purple-300/70\">View all your complaint photos and media</p>\r\n          </Link>\r\n          \r\n          <Link href=\"/citizen/notifications\" className=\"p-6 transition-colors border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl hover:bg-purple-500/10\">\r\n            <h4 className=\"mb-2 text-lg font-normal text-white\">Notifications</h4>\r\n            <p className=\"text-sm text-purple-300/70\">Stay updated on your complaint status</p>\r\n          </Link>\r\n          \r\n          <Link href=\"/citizen/profile\" className=\"p-6 transition-colors border bg-purple-500/5 backdrop-blur-sm border-purple-500/20 rounded-xl hover:bg-purple-500/10\">\r\n            <h4 className=\"mb-2 text-lg font-normal text-white\">Profile Settings</h4>\r\n            <p className=\"text-sm text-purple-300/70\">Update your personal information</p>\r\n          </Link>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}